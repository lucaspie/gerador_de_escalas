{% extends "base.html" %}
{% block title %}Editar Turno{% endblock %}

{% block content %}
<h4 class="mb-4">
    {{ turno.dia.data }} — {{ turno.get_turno_display }}
</h4>

<form method="post">
    {% csrf_token %}

    <div class="mb-4">
        <label class="form-label fw-bold">Titulares</label>

        {% for op in operadores %}
        <div class="row align-items-center mb-1">
            <div class="col-6">
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" name="titulares" value="{{ op.id }}">
                    <label class="form-check-label">
                        {{ op.username }}
                    </label>
                </div>
            </div>

            {% if turno.dia.tipo_dia == "NAO" %}
            <div class="col-6">
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" name="acionado_{{ op.id }}">
                    <label class="form-check-label text-danger">
                        Foi acionado
                    </label>
                </div>
            </div>
            {% endif %}
        </div>
        {% endfor %}
    </div>


    <div class="mb-4">
        <label class="form-label fw-bold">Reserva</label>
        <select name="reserva" class="form-select">
            <option value="">— Sem reserva —</option>
            {% for op in operadores %}
            <option value="{{ op.id }}">
                {{ op.first_name }}
            </option>
            {% endfor %}
        </select>
    </div>

    <div class="d-flex gap-2">
        <button type="submit" class="btn btn-primary">
            Salvar
        </button>
        <a href="{% url 'escalas:detalhe_escala' escala.id %}" class="btn btn-secondary">
            Cancelar
        </a>
    </div>
</form>
{% endblock %}